{% comment %}Do not edit this file{% endcomment %}
{% raw %}
{% assign root_url = {% endraw %}"{%- if routes.root_url != "/" -%}{{ routes.root_url }}{%- endif -%}"{% raw %} %}
{% assign currencyFormat = {% endraw %}{{ shop.money_format | json }}{% raw %} %}
{% assign swatch_options = 'Color' | downcase | replace: ', ', ',' | split: ","  %}
{% assign image_options  = '' | downcase | replace: ', ', ',' | split: ","  %}
{% assign text_options   = 'Size' | downcase | replace: ', ', ',' | split: ","  %}
{% assign show_selected_variant_info = true %}

{% assign image_size     = '360x504' %}
{% assign images_count   = product.images | size %}
{% assign variants_count = product.variants | size %}
{% assign options_count  = product.options | size %}
{% assign no_image = 'https://cdn.shopify.com/s/images/themes/product-1.png' %}

{% assign featured_image            = product.featured_image %}
{% assign product_price             = product.price %}
{% assign product_compare_at_price  = product.compare_at_price %}
{% assign second_image_index        = 2 %}
{% assign selected_or_first_available_variant = product.selected_or_first_available_variant %}

{% if show_selected_variant_info and product.selected_variant %}
{% assign selected_or_first_available_variant = product.selected_variant %}
{% assign product_price             = selected_or_first_available_variant.price %}
{% assign product_compare_at_price  = selected_or_first_available_variant.compare_at_price %}
{% if selected_or_first_available_variant.image %}
{% assign featured_image  = selected_or_first_available_variant.image %}
{% endif %}
{% for image in product.images %}
{% if image.id == featured_image.id %}
{% if forloop.index == images_count %}
{% assign second_image_index = 1 %}
{% else %}
{% assign second_image_index = forloop.index | plus: 1 %}
{% endif %}
{% endif %}
{% endfor %}
{% endif %}

{%  assign mobile_class = 'small--one-whole' %}
{%  if section.settings.grid_mobile == '2' %}
{%    assign mobile_class = 'small--one-half' %}
{%  endif %}

{%  case section.settings.grid %}
{%    when 2 %}
{%      assign grid_strings = 'large-up--one-half medium--one-half ' | append: mobile_class %}
{%    when 3 %}
{%      assign grid_strings = 'large-up--one-third medium--one-third ' | append: mobile_class %}
{%    when 4 %}
{%      assign grid_strings = 'large-up--one-quarter medium--one-half ' | append: mobile_class %}
{%    when 5 %}
{%      assign grid_strings = 'large-up--one-fifth medium--one-third ' | append: mobile_class %}
{%    else %}
{%      assign grid_strings = 'large-up--one-sixth medium--one-third ' | append: mobile_class %}
{%  endcase %}

{%- assign grid_int = section.settings.grid | times: 1 -%}
{%- assign animation_delay = forloop.index0 | modulo: grid_int | times: 1 -%}
{%- assign showReviews = section.settings.enable_reviews | default: false -%}
{%- assign index = forloop.index -%}


{%- assign additional_attributes = additional_attributes | default: '' -%}
{%- assign showReviews = showReviews | default: false -%}

{%- unless grid_strings -%}
{% assign grid_strings = "one-whole" %}
{%- endunless -%}

{%- assign border_class = '' -%}
{%- if settings.product_grid_outline == false -%}
{%- assign border_class = 'product-item--borderless' -%}
{%- endif -%}

{%- assign alignment_class = '' -%}
{%- if settings.product_grid_center == true -%}
{%- assign alignment_class = 'product-item--centered' -%}
{%- endif -%}

{%- if settings.quickview_enable == false and settings.color_swatches -%}
{%- assign has_colors = false -%}

{%- capture swatches -%}
{%- capture swatch_translation -%}{% endraw %}{{ 'general.swatches.color' | t }}{% raw %}{%- endcapture -%}

{%- assign swatch_labels = swatch_translation | append: ',' | split: ',' -%}
{%- for label in swatch_labels -%}
{%- assign sanitized_label = label | lstrip | rstrip -%}
{%- assign productOptions = product.options[sanitized_label].values | size -%}
{%- if productOptions > 0 -%}
{%- assign has_colors = true -%}

<form class="radio__fieldset radio__fieldset--swatches radio__fieldset--small" data-grid-swatch-form>
  <div class="selector-wrapper__scrollbar" data-scrollbar data-grid-swatches data-swatch-handle="{{ product.handle }}" data-swatch-label="{{ label }}"></div>

  <button type="button" class="radio__fieldset-arrow radio__fieldset-arrow--prev is-hidden is-not-relative" data-scrollbar-arrow-prev>
    <span class="visually-hidden">{% endraw %}{{ 'products.general.see_all' | t }}{% raw %}</span>
  </button>

  <button type="button" class="radio__fieldset-arrow radio__fieldset-arrow--next is-hidden is-not-relative" data-scrollbar-arrow-next>
    <span class="visually-hidden">{% endraw %}{{ 'products.general.see_all' | t }}{% raw %}</span>
  </button>
</form>

{%- break -%}
{%- endif -%}
{%- endfor -%}
{%- endcapture -%}
{%- endif -%}

{%- assign double_img = false -%}
{%- if product.images[1] and settings.image_hover_enable -%}
{%- assign double_img = true -%}
{%- endif -%}
{%- assign current_variant = product.selected_or_first_available_variant -%}

{%- assign product_url = product.url | within: collection -%}

{%- capture item_unique -%}product-item--{{ section.id }}-{{ index }}{%- endcapture -%}
{%- assign animation_anchor = item_unique | prepend: '.' -%}

<div{% if showPageData %} data-page="{{page}}"{% endif %} class="product-item {{ grid_strings }} {{ border_class }} {{ alignment_class }} {{ item_unique }}" data-product-grid-item {{ additional_attributes }}>
  {%- capture over_image_content -%}
  {%- assign product_tags = product.tags | join: ',' | append: ',' -%}
  {%- assign preorder = false -%}
  {%- assign on_sale = false -%}
  {%- assign sold_out = false -%}
  {%- assign badge = '' -%}

  {%- if product_tags contains '_badge_' -%}
  {%- assign badge = product_tags | split: '_badge_' -%}
  {%- assign badge = badge[1] | split: ',' | first | replace: '_', ' ' -%}
  {%- endif -%}

  {%- if product_tags contains '_preorder' -%}
  {%- assign preorder = true -%}
  {%- endif -%}

  {%- if product.compare_at_price > product.price and settings.sale_tags_enable -%}
  {%- assign on_sale = true -%}
  {%- endif -%}

  {%- unless product.available -%}
  {%- assign sold_out = true -%}
  {%- endunless -%}

  {%- if badge != '' -%}
  <span class="badge-box">{{ badge }}</span>
  {%- elsif preorder and sold_out == false -%}
  <span class="preorder-box">{% endraw %}{{ 'products.product.pre_order' | t }}{% raw %}</span>
  {%- elsif on_sale and sold_out == false -%}
  <span class="sale-box">{% endraw %}{{ 'products.product.on_sale' | t }}{% raw %}</span>
  {%- endif -%}
  {% comment %}
  <button data-with-epi="true" class="swym-button swym-add-to-wishlist-view-product product_{{product.id}}" data-swaction="addToWishlist" data-product-id="{{product.id | json}}" data-variant-id="{{product.variants[0].id}}" data-product-url="{% endraw %}{{ shop.url }}{% raw %}{{ product.url }}"></button>  {% endcomment %}
  {%- if settings.quickview_enable and current_variant.available -%}
  <button type="button" class="quick-add-button" tabindex="-1" data-button-quick-add-mobile{% unless variants_count > 1 %} data-quick-add-button{% endunless %}>
    <span class="visually-hidden">{% endraw %}{{ 'products.general.quick_view' | t }}{% raw %}</span>

    <svg height="18" width="18" class="svg-loader">
      <circle r="7" cx="9" cy="9" />
      <circle stroke-dasharray="87.96459430051421 87.96459430051421" r="7" cx="9" cy="9" />
    </svg>
  </button>

  <div class="slideup is-not-relative" data-quick-add-holder>
    <button type="button" class="caps is-disable" data-focus-element data-quick-add-label="{{ product.handle }}" data-collection-handle="{% endraw %}{{ collection.handle | default: 'primary' }}{% raw %}" {% unless variants_count > 1 %} data-quick-add-button{% endunless %} tabindex="0">
      <span>{% endraw %}{{ 'products.general.quick_view' | t }}{% raw %}</span>

      <span>{% endraw %}{{ 'products.general.quick_view_added' | t }}{% raw %}</span>

      <svg height="18" width="18" class="svg-loader">
        <circle r="7" cx="9" cy="9" />
        <circle stroke-dasharray="87.96459430051421 87.96459430051421" r="7" cx="9" cy="9" />
      </svg>

      <span class="caps__error" data-message-error>&nbsp;</span>
    </button>

    <div data-quick-add-form-holder>&nbsp;</div>
  </div>
  {%- endif -%}
  {%- endcapture -%}

  <div class="product-item__image{% if double_img %} double__image{% endif %}" data-product-image>
    <a class="product-link is-not-relative" href="{{ product_url }}" aria-label="{{ product.title | strip_html | escape }}" data-grid-link>
      {% if images_count > 0 %}
      {% assign image = product.featured_image %}


    <div class="product-item__bg"
           data-grid-slide
           data-aos="img-in"
           data-aos-delay="{{ animation_delay | times: 150 }}"
           data-aos-duration="{{ animation_delay | times: 100 | plus: 800 }}"
           data-aos-anchor="{{ animation_anchor }}"
           data-aos-easing="ease-out-quart"
           style="background-image: image-set(
            url({{ image | img_url: '320x' }}) 1x,
            url({{ image | img_url: '800x' }}) 2x
           );background-image: -webkit-image-set(
            url({{ image | img_url: '320x' }}) 1x,
            url({{ image | img_url: '800x' }}) 2x);"
           ">&nbsp;</div>
      {% if double_img %}
      {% assign image = product.images[1] %}
      <div
        class="product-item__bg__under"
        style="background-image: image-set(
          url({{ image | img_url: '320x' }}) 1x,
          url({{ image | img_url: '800x' }}) 2x
         );background-image: -webkit-image-set(
          url({{ image | img_url: '320x' }}) 1x,
          url({{ image | img_url: '800x' }}) 2x);">&nbsp;</div>
      {% endif %}
      {% else %}
      {%- comment -%} Show "No image" if product has no media {%- endcomment -%}
      {%- assign image_url_pattern = product.featured_image | img_url: '540x' | replace: '_540x.', '_{width}x.' -%}
      {%- assign image_widths = "[180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 2048]" -%}

      <div class="product-item__bg product-item__bg--empty"
           data-grid-slide
           data-aos="img-in"
           data-aos-delay="{{ animation_delay | times: 150 }}"
           data-aos-duration="{{ animation_delay | times: 100 | plus: 800 }}"
           data-aos-anchor="{{ animation_anchor }}"
           data-aos-easing="ease-out-quart">
        {%- comment -%} <img
             class="lazyload"
             src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
             data-src="{{ image_url_pattern }}"
             data-widths= "{{ image_widths }}"
             data-aspectratio="1"
             data-sizes="auto"
             width="540"
             height="540"
             alt="{{ product.title | strip_html | escape }}"
            loading="lazy"> {%- endcomment -%}

        {{ product.featured_image | image_url: width:540 | image_tag: alt: product.title, loading: 'lazy' }}
      </div>
      {% endif %}
    </a>

    {{ over_image_content }}
  </div>

  <noscript>
    <a class="product-link" href="{{ product_url }}" aria-label="{{ product.title | strip_html | escape }}" data-grid-link>
      <div class="product-item__image no-js-image" style="background-image:url('{{ product.featured_image | img_url: '540x' }}'); background-size: contain; background-position: center center; background-repeat: no-repeat;"></div>
    </a>
  </noscript>

  <div class="product-information"
       data-aos="fade"
       data-aos-delay="{{ animation_delay | times: 150 }}"
       data-aos-duration="{{ animation_delay | times: 50 | plus: 800 }}"
       data-aos-anchor="{{ animation_anchor }}"
       data-product-information>
    <a class="product-link" href="{{ product_url }}" aria-label="{{ product.title | strip_html | escape }}" data-grid-link>
      {%- if showReviews and settings.enable_product_reviews -%}
      <span class="shopify-product-reviews-badge" data-id="{{ product.id }}"></span>
      {%- endif -%}

      <p class="product__grid__title">
        {{ product.title | strip_html | escape }}
        <div class="product__extra_description">{{product.metafields.products.extra_description}}</div>
      </p>

      <span class="price{% if product.compare_at_price > product.price %} sale{% endif %}">
        {% if product.available %}
        <span class="new-price">
          {% if product.price_varies %}
          <small>{% endraw %}{{ 'products.general.from' | t }}{% raw %}</small>
          {% endif %}
          {{ product.price_min | money }}
        </span>
        {% if product.compare_at_price > product.price %}
        <span class="old-price">{{ product.compare_at_price | money }}</span>
        {% endif %}
        {% else %}
        <span class="sold-out">{% endraw %}{{ 'products.product.sold_out' | t }}{% raw %}</span>
        {% endif %}
      </span>

      {% if settings.quickview_enable == false and settings.color_swatches %}
      {% if has_colors %}
      <span class="grid__product-swatches-count" data-swatch-count>&nbsp;</span>
      {% endif %}

      {{ swatches }}
      {% endif %}

    </a>
  </div>
</div>  {% endraw %}
